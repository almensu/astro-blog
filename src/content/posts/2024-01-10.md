---
title: 从烦恼到顿悟：一个文本处理工具带来的复杂性思考
date: 2024-01-10
summary: 本文讲述了一个技术写作者如何通过构建自动化文本处理工具来解决专业术语记忆问题，并从中获得关于复杂性、简单性和人机协作的深刻思考。文章探讨了完美自动化的迷思、工具设计的核心原则，以及如何通过简单规则的组合构建优雅的解决方案。
category: 技术思考
tags: [Tools, 自动化]
---

## 起于困扰

作为一名技术写作者，我经常被一个看似简单的问题困扰：记不住专业术语的准确写法。

在写作过程中，我发现自己总是在重复一些机械性的操作：复制某个术语、搜索之前的文档找到正确写法、确保大小写正确。特别是在处理像"TensorFlow"这样的词时，有时会写成"tensorflow"或"Tensorflow"。这种不一致不仅影响写作效率，更可能导致专业性的质疑。

## 构建自动化工作流

为了解决这个困扰，我开始构建一个自动化工具。最初的设计很简单：

```python
def extract_english_words(text):
    # 1. 优先处理中文中的英文专业术语
    cn_en_pattern = r'(?:[，。；！？\s]|^)([A-Z][A-Za-z0-9\s\.]*(?:\s+[A-Z][A-Za-z0-9\s\.]*)*)(?=[，。；！？\s]|$)'

    # 2. 处理特定产品名称和框架
    product_pattern = r'(?:iPhone|MacBook|Visual Studio Code|ChatGPT)'
    framework_pattern = r'(?:TensorFlow|PyTorch|React Native)'
```

整个工作流程被设计得尽可能简单：

1. **输入捕获**：使用系统剪贴板作为输入源
2. **文本分析**：多层正则表达式匹配
3. **人工审查**：通过临时编辑器确认
4. **数据持久化**：增量更新词库

## 意外的发现

在实现过程中，我遇到了一些有趣的挑战。比如在处理"OpenAI 的 GPT 模型"这样的文本时，最初的设计会将"OpenAI"错误地拆分为"Open"和"AI"。这个问题引发了我的深入思考。

### 1. 完美自动化的迷思

起初，我试图用复杂的正则表达式来处理所有可能的情况：

```python
tech_patterns = [
    r'[a-zA-Z]+(?:\.[a-zA-Z]+)+',  # 如 next.js
    r'[A-Z]{2,}(?:\+\+)?',         # 如 API, C++
    r'(?:[A-Za-z]+\d+|\d+[A-Za-z]+)[A-Za-z\d]*'  # 如 utf8
]
```

但很快我发现，追求完美的自动化反而带来了过度复杂性。最终，我选择了一个看似不够"智能"的方案：

```python
# 提供临时编辑器供用户确认
temp_file = '/tmp/words_edit.txt'
subprocess.run(['open', '-e', temp_file])
```

### 2. 工具设计的顿悟

通过实践，我逐渐形成了几个关键认识：

#### 简单性是最高原则

```
# 简单的目录结构
~/script/
├── dir/
│   └── tmp.txt          # 词库文件
└── extract_words.py     # 主程序
```

#### 工作流程的自然性

```yaml
# Espanso 配置示例
matches:
  - trigger: ':tf'
    replace: 'TensorFlow'
```

### 3. 人机协作的艺术

最有趣的发现是关于人机协作的本质：

| 机器擅长       | 人类擅长             |
| -------------- | -------------------- |
| 正则表达式匹配 | 判断专业术语的完整性 |
| 保持数据一致性 | 处理特殊情况         |
| 快速响应       | 确保语义准确性       |

## 复杂性的思考

这个项目最终引发了我对复杂性的深入思考。就像鸟群的集体智慧，复杂的行为模式往往源于简单规则的组合：

### 鸟群的三个简单规则：

1. 与邻近个体保持相同速度
2. 向群体中心靠拢
3. 避免与他人碰撞

这启发我在设计工具时也遵循类似的简单原则：

### 工具的核心规则：

1. 保持与用户工作流的一致性（剪贴板输入）
2. 围绕核心需求构建功能（专业术语提取）
3. 避免功能之间的冲突（优先级处理）

## 更深的理解

这个项目让我明白：

1. 真正的效率来自于对问题本质的理解
2. 简单规则的组合可以产生优雅的解决方案
3. 好的工具应该是透明的，像空气一样自然

## 未来的思考

这个工具仍在进化，但我的关注点已经从"如何实现完美的自动化"转向了"如何通过简单规则构建优雅的解决方案"。这个转变本身，可能就是复杂性科学给我的最大启示。
